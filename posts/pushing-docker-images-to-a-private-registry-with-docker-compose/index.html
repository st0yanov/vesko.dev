<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><meta property="og:locale" content="en"/><meta property="og:site_name" content="Vesko.dev"/><meta name="author" content="Veselin Stoyanov"/><link rel="apple-touch-icon" sizes="180x180" href="/static/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="192x192" href="/static/favicon/android-chrome-192x192.png"/><link rel="icon" type="image/png" sizes="512x512" href="/static/favicon/android-chrome-512x512.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicon/favicon-16x16.png"/><link rel="manifest" href="/static/favicon/site.webmanifest"/><script defer="" src="/static/klaro.js" class="jsx-908690956"></script><script async="" type="text/plain" data-type="text/javascript" data-name="googleAnalytics" data-src="https://www.googletagmanager.com/gtag/js?id=G-NMWL75LG5L" class="jsx-908690956"></script><script type="text/plain" data-type="text/javascript" data-name="googleAnalytics" class="jsx-908690956">window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
  
            gtag('config', 'G-NMWL75LG5L');</script><title>Vesko.dev | Pushing Docker images to a private registry with Docker Compose</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous."/><meta property="og:type" content="article"/><meta property="article:published_time" content="2019-05-17T21:00:00.000Z"/><meta property="article:modified_time" content="2020-11-03T20:56:05.433Z"/><meta property="article:tag" content="docker"/><meta property="article:tag" content="docker compose"/><meta property="article:tag" content="docker image"/><meta property="article:tag" content="private docker registry"/><meta property="article:tag" content="docker registry"/><meta property="og:title" content="Pushing Docker images to a private registry with Docker Compose"/><meta property="og:description" content="Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous."/><meta property="og:image" content="https://www.vesko.dev/assets/images/pushing_docker_images_to_a_private_registry_with_docker_compose.png"/><meta name="keywords" content="docker,docker compose,docker image,private docker registry,docker registry"/><script type="application/ld+json">{
    "@context": "https://schema.org",
    "@type": "Article",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.vesko.dev/posts/pushing-docker-images-to-a-private-registry-with-docker-compose"
    },
    "headline": "Pushing Docker images to a private registry with Docker Compose",
    "image": [
      "https://www.vesko.dev/assets/images/pushing_docker_images_to_a_private_registry_with_docker_compose.png"
     ],
    "datePublished": "2019-05-17T21:00:00.000Z",
    "dateModified": "2020-11-03T20:56:05.433Z",
    "author": {"@type": "Person","name": "Veselin Stoyanov"},
    "publisher": {
      "@type": "Organization",
      "name": "Veselin Stoyanov",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.vesko.dev/assets/images/avatar.png"
      }
    },
    "description": "Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous."
  }</script><link rel="preload" href="/_next/static/css/styles.f7bafa8b.chunk.css" as="style"/><link rel="stylesheet" href="/_next/static/css/styles.f7bafa8b.chunk.css" data-n-g=""/><noscript data-n-css="true"></noscript><link rel="preload" href="/_next/static/chunks/main-c636e77b679b9183e812.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.fcef98db13e2318579fb.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.55a20616778c71a4a878.js" as="script"/><link rel="preload" href="/_next/static/chunks/a04616ad9e98d0a10caa31e38c3b9b3b5fbc94db.6457ecb3c448f225f522.js" as="script"/><link rel="preload" href="/_next/static/chunks/styles.d0cb90c3d702abb3cce8.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-104053fd57f9782f146c.js" as="script"/><link rel="preload" href="/_next/static/chunks/f73a965223752caccabb0ab2594d1045e30789eb.e63f56fc82cff5afadc6.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/posts/%5Bslug%5D-adfe62e63fd41d096003.js" as="script"/><style id="__jsx-908690956">a:hover{border-bottom-width:0;}</style><style id="__jsx-782043910">.content.jsx-782043910 p{margin-top:1.5rem;margin-bottom:1.5rem;}.content.jsx-782043910 ul{margin-top:1.5rem;margin-bottom:1.5rem;}.content.jsx-782043910 h2{font-size:1.5rem;font-weight:600;--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity));margin-top:1rem;margin-bottom:1rem;}.content.jsx-782043910 h3{font-size:1.25rem;font-weight:600;--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity));margin-top:1rem;margin-bottom:1rem;}</style></head><body><div id="__next"><div class="jsx-908690956"></div><div class="antialiased w-full text-gray-700"><div class="text-center mt-6"><a class="sm:fixed sm:top-1 sm:left-1 border border-gray-300 hover:border-gray-300 rounded-full py-1 px-4 text-gray-700 hover:text-blue-500" href="/">← Back to Blog</a></div><div class="lg:max-w-2xl mx-auto mt-6 px-4 lg:px-0 prose"><h1 class="text-center font-bold text-3xl md:text-4xl text-gray-900 mb-4">Pushing Docker images to a private registry with Docker Compose</h1><div class="text-center text-sm mb-8">May 18, 2019<!-- -->  •  <!-- -->3 min read</div><div class="jsx-782043910 content"><span><p><img src="/assets/images/network_cables.jpg" title="Network Cables"/></p><p>Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous.</p><p>Before we go any further let’s first set up the stage.
We have a simple <strong>docker-compose.yml</strong> file with the following contents:</p><pre class="language-bash"><code class="language-bash">version: <span class="token string">&#x27;3&#x27;</span>

services:
  myapp:
    build: ./services/myapp
</code></pre><p>I want to build the image and push it to my private Docker registry.</p><pre class="language-bash"><code class="language-bash">docker-compose build
</code></pre><p>So far so good. Everything builds well. I decide to check my local images:</p><pre class="language-bash"><code class="language-bash">docker images
</code></pre><p>And the first issue I notice is the bad naming of my image:
<code>“myprojectname_myapp latest”</code></p><p>Easy fix — if you specify image as well as build configuration options, docker-compose will build the image with the specified image name and tag, <a href="https://docs.docker.com/compose/compose-file/#build">as described in the docs</a>:</p><pre class="language-bash"><code class="language-bash">version: <span class="token string">&#x27;3&#x27;</span>

services:
  myapp:
    image: myproject/myapp:latest
    build: ./services/myapp
</code></pre><p>Now my image has appropriate naming and I want to push it. With the current setup, however, <code>docker-compose push</code> will try to push the project’s images to the Docker Hub registry. I don’t want this to happen.</p><p>At first glance <a href="https://docs.docker.com/compose/compose-file/">the compose file reference</a> doesn’t provide neither configuration nor information on how to push images to a private registry.</p><blockquote><p>If y<em>ou</em> want to push an image to a private registry you need to <a href="https://docs.docker.com/engine/reference/commandline/push/#push-a-new-image-to-a-registry">follow those instructions</a>:\</p><p>1. <code>docker tag myproject/myapp:latest my-registry-host:5000/myproject/myapp:latest</code>\</p><p>2. <code>docker push my-registry-host:5000/myproject/myapp:latest</code></p></blockquote><p>There are some guides on the Internet suggesting automating those steps with a script but I don’t like this solution as I want to use the native tooling. A few minutes later I arrived at <a href="https://docs.docker.com/compose/reference/push/">the docker-compose push documentation page</a> which includes a nice example.</p><blockquote><p>It looks like the image service configuration option follows the same notation as the example above:</p></blockquote><pre class="language-bash"><code class="language-bash">version: <span class="token string">&#x27;3&#x27;</span>

services:
  myapp:
    image: my-registry-host:5000/myproject/myapp:latest
    build: ./services/myapp
</code></pre><p>Now when I execute <code>docker-compose push</code> my image gets pushed to my private image registry. There is something that still annoys me though — if I decide to change the registry, I need to edit the image configuration option of all described services.</p><blockquote><p>For this reason I like to extract the registry host as an environment variable:</p></blockquote><pre class="language-bash"><code class="language-bash"><span class="token assign-left variable">REGISTRY_HOST</span><span class="token operator">=</span>my-registry-host:5000
</code></pre><pre class="language-bash"><code class="language-bash">version: <span class="token string">&#x27;3&#x27;</span>

services:
  myapp:
    image: <span class="token variable">${REGISTRY_HOST}</span>/myproject/myapp:latest
    build: ./services/myapp
</code></pre><p>Congratulations! Now you will be able to build and distribute your project’s images by only using the native tooling provided by Docker and Docker Compose.</p></span></div><footer class="border-t border-gray-300 text-center py-4 mt-4 undefined"><div class="text-gray-500 text-sm undefined">© All rights reserved.<br/><small><a href="/terms-of-service/">Terms of Service</a> ⋅ <a href="/privacy-policy/">Privacy Policy</a></small></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"\"use strict\";\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i \u003c arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i \u003c sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i \u003c sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) \u003e= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"img\", _extends({\n    parentName: \"p\"\n  }, {\n    \"src\": \"/assets/images/network_cables.jpg\",\n    \"alt\": null,\n    \"title\": \"Network Cables\"\n  }))), mdx(\"p\", null, \"Recently I was looking for a way to push services\\u2019 images of a Docker Compose project to a private registry. In this article I\\u2019m going to save you some guesswork as the process is a bit ambiguous.\"), mdx(\"p\", null, \"Before we go any further let\\u2019s first set up the stage.\\nWe have a simple\\xA0\", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"docker-compose.yml\"), \"\\xA0file with the following contents:\"), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"version: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'3'\"), \"\\n\\nservices:\\n  myapp:\\n    build: ./services/myapp\\n\")), mdx(\"p\", null, \"I want to build the image and push it to my private Docker registry.\"), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker-compose build\\n\")), mdx(\"p\", null, \"So far so\\xA0good. Everything builds well. I decide to check my local images:\"), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"docker images\\n\")), mdx(\"p\", null, \"And the first issue I notice is the bad naming of my image:\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"\\u201Cmyprojectname_myapp latest\\u201D\")), mdx(\"p\", null, \"Easy fix \\u2014 if you specify image as well as build configuration options, docker-compose will build the image with the specified image name and tag,\\xA0\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/compose/compose-file/#build\"\n  }), \"as described in the docs\"), \":\"), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"version: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'3'\"), \"\\n\\nservices:\\n  myapp:\\n    image: myproject/myapp:latest\\n    build: ./services/myapp\\n\")), mdx(\"p\", null, \"Now my image has appropriate naming and I want to push it. With the current setup, however,\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose push\"), \"\\xA0will try to push the project\\u2019s images to the Docker Hub registry. I don\\u2019t want this to happen.\"), mdx(\"p\", null, \"At first glance\\xA0\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/compose/compose-file/\"\n  }), \"the compose file reference\"), \"\\xA0doesn\\u2019t provide neither configuration nor information on how to push images to a private registry.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"If y\", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"ou\"), \"\\xA0want to push an image to a private registry you need to\\xA0\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/engine/reference/commandline/push/#push-a-new-image-to-a-registry\"\n  }), \"follow those instructions\"), \":\\\\\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"1.\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker tag myproject/myapp:latest my-registry-host:5000/myproject/myapp:latest\"), \"\\\\\"), mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"2.\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker push my-registry-host:5000/myproject/myapp:latest\"))), mdx(\"p\", null, \"There are some guides on the Internet suggesting automating those steps with a script but I don\\u2019t like this solution as I want to use the native tooling. A few minutes later I arrived at\\xA0\", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://docs.docker.com/compose/reference/push/\"\n  }), \"the docker-compose push documentation page\"), \"\\xA0which includes a nice example.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"It looks like the image service configuration option follows the same notation as the example above:\")), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"version: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'3'\"), \"\\n\\nservices:\\n  myapp:\\n    image: my-registry-host:5000/myproject/myapp:latest\\n    build: ./services/myapp\\n\")), mdx(\"p\", null, \"Now when I execute\\xA0\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"docker-compose push\"), \"\\xA0my image gets pushed to my private image registry. There is something that still annoys me though \\u2014 if I decide to change the registry, I need to edit the image configuration option of all described services.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"For this reason I like to extract the registry host as an environment variable:\")), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token assign-left variable\"\n  }), \"REGISTRY_HOST\"), mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token operator\"\n  }), \"=\"), \"my-registry-host:5000\\n\")), mdx(\"pre\", {\n    \"className\": \"language-bash\"\n  }, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-bash\"\n  }), \"version: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token string\"\n  }), \"'3'\"), \"\\n\\nservices:\\n  myapp:\\n    image: \", mdx(\"span\", _extends({\n    parentName: \"code\"\n  }, {\n    \"className\": \"token variable\"\n  }), \"${REGISTRY_HOST}\"), \"/myproject/myapp:latest\\n    build: ./services/myapp\\n\")), mdx(\"p\", null, \"Congratulations! Now you will be able to build and distribute your project\\u2019s images by only using the native tooling provided by Docker and Docker Compose.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"\u003cp\u003e\u003cimg src=\"/assets/images/network_cables.jpg\" title=\"Network Cables\"/\u003e\u003c/p\u003e\u003cp\u003eRecently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous.\u003c/p\u003e\u003cp\u003eBefore we go any further let’s first set up the stage.\nWe have a simple \u003cstrong\u003edocker-compose.yml\u003c/strong\u003e file with the following contents:\u003c/p\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003eversion: \u003cspan class=\"token string\"\u003e\u0026#x27;3\u0026#x27;\u003c/span\u003e\n\nservices:\n  myapp:\n    build: ./services/myapp\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eI want to build the image and push it to my private Docker registry.\u003c/p\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003edocker-compose build\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eSo far so good. Everything builds well. I decide to check my local images:\u003c/p\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003edocker images\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eAnd the first issue I notice is the bad naming of my image:\n\u003ccode\u003e“myprojectname_myapp latest”\u003c/code\u003e\u003c/p\u003e\u003cp\u003eEasy fix — if you specify image as well as build configuration options, docker-compose will build the image with the specified image name and tag, \u003ca href=\"https://docs.docker.com/compose/compose-file/#build\"\u003eas described in the docs\u003c/a\u003e:\u003c/p\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003eversion: \u003cspan class=\"token string\"\u003e\u0026#x27;3\u0026#x27;\u003c/span\u003e\n\nservices:\n  myapp:\n    image: myproject/myapp:latest\n    build: ./services/myapp\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow my image has appropriate naming and I want to push it. With the current setup, however, \u003ccode\u003edocker-compose push\u003c/code\u003e will try to push the project’s images to the Docker Hub registry. I don’t want this to happen.\u003c/p\u003e\u003cp\u003eAt first glance \u003ca href=\"https://docs.docker.com/compose/compose-file/\"\u003ethe compose file reference\u003c/a\u003e doesn’t provide neither configuration nor information on how to push images to a private registry.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eIf y\u003cem\u003eou\u003c/em\u003e want to push an image to a private registry you need to \u003ca href=\"https://docs.docker.com/engine/reference/commandline/push/#push-a-new-image-to-a-registry\"\u003efollow those instructions\u003c/a\u003e:\\\u003c/p\u003e\u003cp\u003e1. \u003ccode\u003edocker tag myproject/myapp:latest my-registry-host:5000/myproject/myapp:latest\u003c/code\u003e\\\u003c/p\u003e\u003cp\u003e2. \u003ccode\u003edocker push my-registry-host:5000/myproject/myapp:latest\u003c/code\u003e\u003c/p\u003e\u003c/blockquote\u003e\u003cp\u003eThere are some guides on the Internet suggesting automating those steps with a script but I don’t like this solution as I want to use the native tooling. A few minutes later I arrived at \u003ca href=\"https://docs.docker.com/compose/reference/push/\"\u003ethe docker-compose push documentation page\u003c/a\u003e which includes a nice example.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eIt looks like the image service configuration option follows the same notation as the example above:\u003c/p\u003e\u003c/blockquote\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003eversion: \u003cspan class=\"token string\"\u003e\u0026#x27;3\u0026#x27;\u003c/span\u003e\n\nservices:\n  myapp:\n    image: my-registry-host:5000/myproject/myapp:latest\n    build: ./services/myapp\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow when I execute \u003ccode\u003edocker-compose push\u003c/code\u003e my image gets pushed to my private image registry. There is something that still annoys me though — if I decide to change the registry, I need to edit the image configuration option of all described services.\u003c/p\u003e\u003cblockquote\u003e\u003cp\u003eFor this reason I like to extract the registry host as an environment variable:\u003c/p\u003e\u003c/blockquote\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token assign-left variable\"\u003eREGISTRY_HOST\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003emy-registry-host:5000\n\u003c/code\u003e\u003c/pre\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003eversion: \u003cspan class=\"token string\"\u003e\u0026#x27;3\u0026#x27;\u003c/span\u003e\n\nservices:\n  myapp:\n    image: \u003cspan class=\"token variable\"\u003e${REGISTRY_HOST}\u003c/span\u003e/myproject/myapp:latest\n    build: ./services/myapp\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eCongratulations! Now you will be able to build and distribute your project’s images by only using the native tooling provided by Docker and Docker Compose.\u003c/p\u003e","scope":{}},"frontMatter":{"slug":"pushing-docker-images-to-a-private-registry-with-docker-compose","title":"Pushing Docker images to a private registry with Docker Compose","description":"Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous.","date_published":"2019-05-17T21:00:00.000Z","date_modified":"2020-11-03T20:56:05.433Z","seo_keywords":["docker","docker compose","docker image","private docker registry","docker registry"],"seo_image":"/assets/images/pushing_docker_images_to_a_private_registry_with_docker_compose.png","reading_time":{"text":"3 min read","minutes":2.01,"time":120600,"words":402}}},"__N_SSG":true},"page":"/posts/[slug]","query":{"slug":"pushing-docker-images-to-a-private-registry-with-docker-compose"},"buildId":"4Y1nNEHcU5Cdv3ItzZ7XI","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true,"head":[["meta",{"name":"viewport","content":"width=device-width"}],["meta",{"charSet":"utf-8"}],["meta",{"property":"og:locale","content":"en"}],["meta",{"property":"og:site_name","content":"Vesko.dev"}],["meta",{"name":"author","content":"Veselin Stoyanov"}],["link",{"rel":"apple-touch-icon","sizes":"180x180","href":"/static/favicon/apple-touch-icon.png"}],["link",{"rel":"icon","type":"image/png","sizes":"192x192","href":"/static/favicon/android-chrome-192x192.png"}],["link",{"rel":"icon","type":"image/png","sizes":"512x512","href":"/static/favicon/android-chrome-512x512.png"}],["link",{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicon/favicon-32x32.png"}],["link",{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicon/favicon-16x16.png"}],["link",{"rel":"manifest","href":"/static/favicon/site.webmanifest"}],["script",{"defer":true,"src":"/static/klaro.js","className":"jsx-908690956"}],["script",{"async":true,"type":"text/plain","data-type":"text/javascript","data-name":"googleAnalytics","data-src":"https://www.googletagmanager.com/gtag/js?id=G-NMWL75LG5L","className":"jsx-908690956"}],["script",{"type":"text/plain","data-type":"text/javascript","data-name":"googleAnalytics","dangerouslySetInnerHTML":{"__html":"window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n  \n            gtag('config', 'G-NMWL75LG5L');"},"className":"jsx-908690956"}],["title",{"children":"Vesko.dev | Pushing Docker images to a private registry with Docker Compose"}],["meta",{"name":"robots","content":"index,follow"}],["meta",{"name":"googlebot","content":"index,follow"}],["meta",{"name":"description","content":"Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"article:published_time","content":"2019-05-17T21:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2020-11-03T20:56:05.433Z"}],["meta",{"property":"article:tag","content":"docker"}],["meta",{"property":"article:tag","content":"docker compose"}],["meta",{"property":"article:tag","content":"docker image"}],["meta",{"property":"article:tag","content":"private docker registry"}],["meta",{"property":"article:tag","content":"docker registry"}],["meta",{"property":"og:title","content":"Pushing Docker images to a private registry with Docker Compose"}],["meta",{"property":"og:description","content":"Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous."}],["meta",{"property":"og:image","content":"https://www.vesko.dev/assets/images/pushing_docker_images_to_a_private_registry_with_docker_compose.png"}],["meta",{"name":"keywords","content":["docker","docker compose","docker image","private docker registry","docker registry"]}],["script",{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\n    \"@context\": \"https://schema.org\",\n    \"@type\": \"Article\",\n    \"mainEntityOfPage\": {\n      \"@type\": \"WebPage\",\n      \"@id\": \"https://www.vesko.dev/posts/pushing-docker-images-to-a-private-registry-with-docker-compose\"\n    },\n    \"headline\": \"Pushing Docker images to a private registry with Docker Compose\",\n    \"image\": [\n      \"https://www.vesko.dev/assets/images/pushing_docker_images_to_a_private_registry_with_docker_compose.png\"\n     ],\n    \"datePublished\": \"2019-05-17T21:00:00.000Z\",\n    \"dateModified\": \"2020-11-03T20:56:05.433Z\",\n    \"author\": {\"@type\": \"Person\",\"name\": \"Veselin Stoyanov\"},\n    \"publisher\": {\n      \"@type\": \"Organization\",\n      \"name\": \"Veselin Stoyanov\",\n      \"logo\": {\n        \"@type\": \"ImageObject\",\n        \"url\": \"https://www.vesko.dev/assets/images/avatar.png\"\n      }\n    },\n    \"description\": \"Recently I was looking for a way to push services’ images of a Docker Compose project to a private registry. In this article I’m going to save you some guesswork as the process is a bit ambiguous.\"\n  }"}}]]}</script><script nomodule="" src="/_next/static/chunks/polyfills-e5012cf49fbb0a2642db.js"></script><script src="/_next/static/chunks/main-c636e77b679b9183e812.js" async=""></script><script src="/_next/static/chunks/webpack-d7b2fb72fb7257504a38.js" async=""></script><script src="/_next/static/chunks/framework.fcef98db13e2318579fb.js" async=""></script><script src="/_next/static/chunks/commons.55a20616778c71a4a878.js" async=""></script><script src="/_next/static/chunks/a04616ad9e98d0a10caa31e38c3b9b3b5fbc94db.6457ecb3c448f225f522.js" async=""></script><script src="/_next/static/chunks/styles.d0cb90c3d702abb3cce8.js" async=""></script><script src="/_next/static/chunks/pages/_app-104053fd57f9782f146c.js" async=""></script><script src="/_next/static/chunks/f73a965223752caccabb0ab2594d1045e30789eb.e63f56fc82cff5afadc6.js" async=""></script><script src="/_next/static/chunks/pages/posts/%5Bslug%5D-adfe62e63fd41d096003.js" async=""></script><script src="/_next/static/4Y1nNEHcU5Cdv3ItzZ7XI/_buildManifest.js" async=""></script><script src="/_next/static/4Y1nNEHcU5Cdv3ItzZ7XI/_ssgManifest.js" async=""></script></body></html>